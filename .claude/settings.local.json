{
  "permissions": {
    "allow": [
      "Bash(nul)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(git push:*)",
      "Bash(ssh root@134.122.4.164 \"curl -s -X POST -H ''Content-Type: application/json'' -H ''X-Dilithion-RPC: 1'' -d ''{\"\"jsonrpc\"\":\"\"2.0\"\",\"\"id\"\":1,\"\"method\"\":\"\"getblockcount\"\",\"\"params\"\":[]}'' http://127.0.0.1:18332/\")",
      "Bash(ssh root@134.122.4.164 \"curl -s -X POST -H ''Content-Type: application/json'' -H ''X-Dilithion-RPC: 1'' -d ''{\"\"jsonrpc\"\":\"\"2.0\"\",\"\"id\"\":1,\"\"method\"\":\"\"getmininginfo\"\",\"\"params\"\":[]}'' http://127.0.0.1:18332/\")",
      "Bash(ssh root@134.122.4.164 \"ps aux | grep dilithion-node | grep -v grep\")",
      "Bash(for node in 134.122.4.164 188.166.255.63 209.97.177.197)",
      "Bash(do echo \"=== Checking $node ===\")",
      "Bash(ssh root@$node \"ps aux | grep ''[d]ilithion-node'' || echo ''Node not running''\")",
      "Bash(done)",
      "Bash(ssh root@188.166.255.63 \"curl -s -X POST -H ''Content-Type: application/json'' -H ''X-Dilithion-RPC: 1'' -d ''{\"\"jsonrpc\"\":\"\"2.0\"\",\"\"id\"\":1,\"\"method\"\":\"\"getblockcount\"\",\"\"params\"\":[]}'' http://127.0.0.1:18332/\")",
      "Bash(ssh root@209.97.177.197 \"curl -s -X POST -H ''Content-Type: application/json'' -H ''X-Dilithion-RPC: 1'' -d ''{\"\"jsonrpc\"\":\"\"2.0\"\",\"\"id\"\":1,\"\"method\"\":\"\"getblockcount\"\",\"\"params\"\":[]}'' http://127.0.0.1:18332/\")",
      "Bash(ssh root@188.166.255.63 \"curl -s -X POST -H ''Content-Type: application/json'' -H ''X-Dilithion-RPC: 1'' -d ''{\"\"jsonrpc\"\":\"\"2.0\"\",\"\"id\"\":1,\"\"method\"\":\"\"getmininginfo\"\",\"\"params\"\":[]}'' http://127.0.0.1:18332/\")",
      "Bash(ssh root@134.122.4.164 \"cd /root/dilithion && git fetch && git checkout fix/genesis-transaction-serialization && git pull && make clean && make dilithion-node\")",
      "Bash(ssh root@188.166.255.63 \"curl -s -X POST -H ''Content-Type: application/json'' -H ''X-Dilithion-RPC: 1'' -d ''{\"\"jsonrpc\"\":\"\"2.0\"\",\"\"id\"\":1,\"\"method\"\":\"\"getblockhash\"\",\"\"params\"\":[0]}'' http://127.0.0.1:18332/\")",
      "Bash(ssh root@209.97.177.197 \"curl -s -X POST -H ''Content-Type: application/json'' -H ''X-Dilithion-RPC: 1'' -d ''{\"\"jsonrpc\"\":\"\"2.0\"\",\"\"id\"\":1,\"\"method\"\":\"\"getblockhash\"\",\"\"params\"\":[0]}'' http://127.0.0.1:18332/\")",
      "Bash(ssh root@188.166.255.63 \"curl -s -X POST -H ''Content-Type: application/json'' -H ''X-Dilithion-RPC: 1'' -d ''{\"\"jsonrpc\"\":\"\"2.0\"\",\"\"id\"\":1,\"\"method\"\":\"\"getbestblockhash\"\",\"\"params\"\":[]}'' http://127.0.0.1:18332/\")",
      "Bash(ssh:*)",
      "Bash(git log:*)",
      "Bash(make genesis_gen:*)",
      "Bash(do echo \"=== $node ===\")",
      "Bash(do echo \"=== Node: $node ===\")",
      "Bash(for node in 188.166.255.63 209.97.177.197)",
      "Bash(make dilithion-node:*)",
      "Bash(for:*)",
      "Bash(do echo \"=== Check $i ===\")",
      "Bash(curl:*)",
      "Bash(/tmp/nyc-build.log)",
      "Bash(/tmp/singapore-build.log)",
      "Bash(/tmp/london-build.log)",
      "Bash(do echo '=== Node: $node ===')",
      "WebFetch(domain:bitcoin.org)",
      "WebFetch(domain:ethereum.org)",
      "WebFetch(domain:github.com)",
      "WebSearch",
      "WebFetch(domain:developer.bitcoin.org)",
      "WebFetch(domain:geth.ethereum.org)",
      "Bash(do echo -n '$node: ')",
      "Bash(cat:*)",
      "Bash(make:*)",
      "Bash(mingw32-make:*)",
      "Bash(g++:*)",
      "Bash(/tmp/nyc-ibd-build.log)",
      "Bash(/tmp/singapore-ibd-build.log)",
      "Bash(/tmp/london-ibd-build.log)",
      "Bash(/tmp/nyc-ibd-build2.log)",
      "Bash(/tmp/singapore-ibd-build2.log)",
      "Bash(/tmp/london-ibd-build2.log)",
      "Bash(test:*)",
      "Bash(/tmp/nyc-final-build.log)",
      "Bash(/tmp/singapore-final-build.log)",
      "Bash(/tmp/london-final-build.log)",
      "WebFetch(domain:dilithion.org)",
      "Bash(do echo \"=== $node RPC ===\")",
      "Bash(do echo \"=== Disabling $node ===\")",
      "Bash(do echo \"=== Killing $node ===\")",
      "Bash(do echo \"=== Verifying $node config ===\")",
      "Bash(do echo \"=== Wiping $node blockchain data ===\")",
      "Bash(do)",
      "Bash(echo:*)",
      "Bash(do echo \"\")",
      "Bash(git checkout:*)",
      "Bash(git cherry-pick:*)",
      "Bash(do echo \"=== Cleaning $node ===\")",
      "Bash(do echo \"=== Deploying to $node ===\")",
      "Bash(__NEW_LINE__ ssh root@$node \"\n  systemctl stop dilithion-testnet\n  killall -9 dilithion-node 2>/dev/null || true\n  sleep 5\n  \n  cd /root/dilithion\n  git pull\n  \n  cp systemd/dilithion-testnet-fixed.service /etc/systemd/system/dilithion-testnet.service\n  systemctl daemon-reload\n  systemctl reset-failed dilithion-testnet\n  systemctl start dilithion-testnet\n  \n  sleep 10\n  \n  echo ''--- SERVICE STATUS ---''\n  systemctl status dilithion-testnet --no-pager | head -15\n  \")",
      "Bash(__NEW_LINE__ echo \"\")",
      "Bash(tee:*)",
      "Bash(do echo \"=== Node $node ===\")",
      "Bash(git pull:*)",
      "Bash(pacman:*)",
      "Bash(git merge:*)",
      "Bash(git tag:*)",
      "Bash(gh run list:*)",
      "Bash(gh run view:*)",
      "Bash(gh run watch:*)",
      "Bash(gh workflow run:*)",
      "Bash(gh run download:*)",
      "Bash(./mingw32-make:*)",
      "Bash(export VERSION=v1.0.10)",
      "Bash(cmd.exe /c \"package-windows-release.bat\")",
      "Bash(VERSION=v1.0.10 bash:*)",
      "Bash(powershell.exe:*)",
      "Bash(./dilithion-node.exe:*)",
      "Bash(sha256sum:*)",
      "Bash(dilithion-testnet-v1.0.10-SHA256SUMS.txt)",
      "Bash(scp:*)",
      "Bash(gh release view:*)",
      "Bash(gh release create:*)",
      "Bash(dilithion-testnet-v1.0.10-linux-x64.tar.gz )",
      "Bash(dilithion-testnet-v1.0.10-macos-x64.tar.gz )",
      "Bash(dilithion-testnet-v1.0.10-windows-x64.zip )",
      "Bash(do echo \"=== Node: $node ===\" ssh root@$node \"curl -s -X POST -H ''''Content-Type: application/json'''' -H ''''X-Dilithion-RPC: 1'''' -d ''''{\"\"jsonrpc\"\":\"\"2.0\"\",\"\"id\"\":1,\"\"method\"\":\"\"getblockcount\"\",\"\"params\"\":[]}'''' http://127.0.0.1:18332/\")",
      "Bash(timeout 15 cmd.exe:*)",
      "Bash(VERSION=v1.0.11 bash:*)",
      "Bash(gh workflow:*)",
      "Bash(dilithion-testnet-v1.0.11-SHA256SUMS.txt)",
      "Bash(bash -c \"cmd.exe /c ''package-windows-release.bat 2>&1''\")",
      "Bash(timeout 20 cmd.exe:*)",
      "Bash(gh repo view:*)",
      "Bash(gh issue list:*)",
      "Bash(gh pr list:*)",
      "Bash(timeout 30 ./dilithion-node:*)",
      "Bash(tasklist:*)",
      "Bash(VERSION=v1.0.12 bash:*)",
      "Bash(cmd.exe /c \"set VERSION=v1.0.12 && package-windows-release.bat\")",
      "Bash(timeout 25 cmd.exe:*)",
      "Bash(cmd.exe /c 'start /B test-mine.bat')",
      "Bash(taskkill:*)",
      "Bash(md5sum:*)",
      "Bash(cmd.exe /c:*)",
      "Bash(timeout 30 cmd.exe:*)",
      "Bash(timeout 25 dilithion-node.exe:*)",
      "Bash(./genesis_gen.exe:*)",
      "Bash(./package-windows-release.bat)",
      "Bash(dilithion-testnet-v1.0.13-SHA256SUMS.txt)",
      "Bash(timeout 120 cmd.exe:*)",
      "Bash(dir:*)",
      "Bash(do echo \"=== Node: $node Genesis ===\")",
      "Bash(timeout 30 ./dilithion-node.exe:*)",
      "Bash(ldd:*)",
      "Bash(cp:*)",
      "Bash(export VERSION=v1.0.14)",
      "Bash(bash package-windows-release.bat)",
      "Bash(dilithion-testnet-v1.0.14-SHA256SUMS.txt)",
      "Bash(gh auth status:*)",
      "Bash(gh api:*)",
      "Bash(do echo \"=== Node: $node Block Count ===\" ssh root@$node \"curl -s -X POST -H ''''Content-Type: application/json'''' -H ''''X-Dilithion-RPC: 1'''' -d ''''{\"\"jsonrpc\"\":\"\"2.0\"\",\"\"id\"\":1,\"\"method\"\":\"\"getblockcount\"\",\"\"params\"\":[]}'''' http://127.0.0.1:18332/\")",
      "Bash(do echo \"=== Node: $node Block 8 ===\")",
      "Bash(do echo \"=== Node: $node Network Hash Rate ===\")",
      "Bash(timeout 60 cmd.exe:*)",
      "Bash(powershell -command \"Compress-Archive -Path ''*'' -DestinationPath ''../dilithion-testnet-v1.0.14-windows-x64-clean.zip'' -Force\")",
      "Bash(unzip:*)",
      "Bash(timeout 20 ./dilithion-node.exe:*)",
      "Bash(timeout 45 ./dilithion-node.exe:*)",
      "Bash(timeout 15 dilithion-node.exe:*)",
      "Bash(timeout 20 dilithion-node.exe:*)",
      "Bash(rd /s /q \"C:\\Users\\will\\.dilithion-testnet\")",
      "Bash(timeout 120 ./dilithion-node.exe:*)",
      "Bash(timeout 15 ./dilithion-node.exe:*)",
      "Bash(timeout 35 ./dilithion-node.exe:*)",
      "Bash(do echo \"=== Deploying to $node ===\" ssh root@$node \"\n    cd /root/dilithion\n    \n    # Pull latest code\n    git fetch origin\n    git checkout main\n    git pull origin main\n    \n    # Stop node and wipe blockchain data (serialization format changed)\n    systemctl stop dilithion-testnet 2>/dev/null || true\n    killall -9 dilithion-node 2>/dev/null || true\n    rm -rf /root/.dilithion-testnet/blocks\n    rm -rf /root/.dilithion-testnet/chainstate\n    \n    # Rebuild\n    make clean && make dilithion-node\n    \n    # Restart\n    systemctl start dilithion-testnet\n    sleep 5\n    \n    # Check status\n    echo ''''--- Service Status ---''''\n    systemctl status dilithion-testnet --no-pager | head -10\n  \")",
      "Bash(powershell -command:*)",
      "Bash(timeout 60 ./dilithion-node.exe:*)",
      "Bash(do echo \"=== Fixing $node ===\")",
      "Bash(do if [ \"$node\" = \"Local\" ])",
      "Bash(fi)",
      "Bash(findstr:*)",
      "Bash(do echo \"=== Node $node ===\" ssh root@$node \"ps aux | grep ''[d]ilithion-node'' | head -1 || echo ''NOT RUNNING''\")",
      "Bash(timeout 90:*)",
      "Bash(ibd-with-live-seeds.log)",
      "Bash(do echo \"=== Node: $node ===\" ssh root@$node \"curl -s -X POST -H ''Content-Type: application/json'' -H ''X-Dilithion-RPC: 1'' -d ''{\"\"jsonrpc\"\":\"\"2.0\"\",\"\"id\"\":1,\"\"method\"\":\"\"getblockcount\"\",\"\"params\"\":[]}'' http://127.0.0.1:18332/\")",
      "Bash(timeout 300 ./dilithion-node.exe:*)",
      "Bash(pkill:*)",
      "Bash(export VERSION=v1.0.15)",
      "Bash(dilithion-testnet-v1.0.15-SHA256SUMS.txt)",
      "Bash(releases/dilithion-testnet-v1.0.15-windows-x64.zip )",
      "Bash(releases/dilithion-testnet-v1.0.15-linux-x64.tar.gz )",
      "Bash(releases/dilithion-testnet-v1.0.15-macos-x64.tar.gz )",
      "Bash(releases/dilithion-testnet-v1.0.15-SHA256SUMS.txt)",
      "Bash(timeout 5 ./dilithion-node.exe:*)",
      "Bash(timeout 3 ./dilithion-node.exe:*)",
      "Bash(gh release delete-asset:*)",
      "Bash(gh release upload:*)",
      "Bash(timeout 180 ./dilithion-node.exe:*)",
      "Bash(then echo -n \"$node: \")",
      "Bash(else echo -n \"$node: \")",
      "Bash(gh issue view:*)",
      "Bash(rm:*)",
      "Bash(do echo \"=== Restarting $node ===\" ssh root@$node \"systemctl start dilithion-testnet && sleep 5 && echo ''Service started'' && systemctl status dilithion-testnet --no-pager | head -10\")",
      "Bash(do echo \"=== Node: $node ===\" ssh root@$node \"curl -s -X POST -H ''Content-Type: application/json'' -H ''X-Dilithion-RPC: 1'' -d ''{\"\"jsonrpc\"\":\"\"2.0\"\",\"\"id\"\":1,\"\"method\"\":\"\"getblockcount\"\",\"\"params\"\":[]}'' http://127.0.0.1:18332/ && curl -s -X POST -H ''Content-Type: application/json'' -H ''X-Dilithion-RPC: 1'' -d ''{\"\"jsonrpc\"\":\"\"2.0\"\",\"\"id\"\":1,\"\"method\"\":\"\"getmininginfo\"\",\"\"params\"\":[]}'' http://127.0.0.1:18332/\")",
      "Bash(do echo \"=== Node $node ===\" ssh root@$node \"ps aux | grep ''[d]ilithion-node'' || echo ''Not running''\")",
      "Bash(git fetch:*)",
      "Bash(do echo -n 'Height on $h: ')",
      "Bash(c:/Users/will/dilithion/dilithion-node.exe --testnet)",
      "Bash(CXXFLAGS=\"-std=c++17 -Wall -Wextra -O2 -pipe -fstack-protector-strong -Wformat -Wformat-security\" mingw32-make:*)",
      "Bash(gh release:*)",
      "Bash(ls:*)",
      "Bash(where g++:*)",
      "Bash(C:/msys64/mingw64/bin/g++ --version)",
      "Bash(PATH=\"/c/msys64/mingw64/bin:$PATH\" mingw32-make:*)",
      "Bash(C:/msys64/usr/bin/pacman.exe -S --noconfirm mingw-w64-ucrt-x86_64-gcc mingw-w64-ucrt-x86_64-openssl mingw-w64-ucrt-x86_64-leveldb)",
      "Bash(C:/msys64/ucrt64/bin/g++ --version)",
      "Bash(C:/msys64/usr/bin/pacman.exe:*)",
      "Bash(do echo \"=== Node: $node Peers ===\")",
      "Bash(do echo \"=== $node recent logs ===\")",
      "Bash(python3:*)",
      "Bash(do echo \"=== $node peers ===\" ssh root@$node \"curl -s -X POST -H ''''Content-Type: application/json'''' -H ''''X-Dilithion-RPC: 1'''' -d ''''{\"\"jsonrpc\"\":\"\"2.0\"\",\"\"id\"\":1,\"\"method\"\":\"\"getpeerinfo\"\",\"\"params\"\":[]}'''' http://127.0.0.1:18332/\")",
      "Bash(timeout 20 c:/Users/will/dilithion/releases/dilithion-testnet-v1.1.28-windows-fresh/dilithion-node.exe:*)",
      "Bash(find:*)",
      "Bash(do echo \"=== Deploying to $node ===\" ssh root@$node \"cd /root/dilithion && git fetch && git checkout main && git pull && make clean && make dilithion-node -j4\")",
      "Bash(do sleep 15)",
      "Bash(git reset:*)",
      "Bash(do echo \"=== Node: $node peers ===\")",
      "Bash(do echo \"--- $node ---\")",
      "Bash(do echo \"--- $node peers ---\")",
      "Bash(do echo \"=== $node peers ===\")",
      "Bash(VERSION=v1.2.2 ssh root@134.122.4.164 \"cd /root/dilithion && VERSION=v1.2.2 ./package-linux-release.sh\")",
      "Bash(do echo -n '$node: ' ssh root@$node \"curl -s -X POST -H ''''Content-Type: application/json'''' -H ''''X-Dilithion-RPC: 1'''' -d ''''{jsonrpc:2.0,id:1,method:getblockcount,params:[]}'''' http://127.0.0.1:18332/\")",
      "Bash(grep:*)",
      "Bash(git -C \"c:/Users/will/dilithion\" status src/net/net.cpp)",
      "Bash(__NEW_LINE__ ssh root@188.166.255.63 \"ls -la /root/dilithion/dilithion-node 2>/dev/null && echo ''Singapore: OK'' || echo ''Singapore: Still building''\")",
      "Bash(__NEW_LINE__ ssh root@209.97.177.197 \"ls -la /root/dilithion/dilithion-node 2>/dev/null && echo ''London: OK'' || echo ''London: Still building''\")",
      "Bash(__NEW_LINE__ ssh root@188.166.255.63 \"\n  systemctl stop dilithion-testnet 2>/dev/null || true\n  killall -9 dilithion-node 2>/dev/null || true\n  sleep 2\n  rm -f /root/.dilithion-testnet/blocks/LOCK /root/.dilithion-testnet/chainstate/LOCK\n  systemctl start dilithion-testnet\n  echo ''Started at:'' && date ''+%H:%M:%S''\n\")",
      "Bash(__NEW_LINE__ echo \"=== Restarting London ===\")",
      "Bash(__NEW_LINE__ ssh root@209.97.177.197 \"\n  systemctl stop dilithion-testnet 2>/dev/null || true\n  killall -9 dilithion-node 2>/dev/null || true\n  sleep 2\n  rm -f /root/.dilithion-testnet/blocks/LOCK /root/.dilithion-testnet/chainstate/LOCK\n  systemctl start dilithion-testnet\n  echo ''Started''\n\")",
      "Bash(__NEW_LINE__ ssh root@134.122.4.164 \"tail -20 /root/.dilithion-testnet/debug.log 2>/dev/null || echo ''No debug.log''\")",
      "Bash(git -C \"c:/Users/will/dilithion\" diff src/node/dilithion-node.cpp)",
      "Bash(__NEW_LINE__ for node in 134.122.4.164 188.166.255.63 209.97.177.197)",
      "Bash(__NEW_LINE__ echo \"=== London status ===\")",
      "Bash(__NEW_LINE__ ssh root@188.166.255.63 \"\n  killall -9 dilithion-node 2>/dev/null || true\n  sleep 3\n  rm -rf /root/.dilithion-testnet/blocks /root/.dilithion-testnet/chainstate\n  rm -f /root/.dilithion-testnet/*.LOCK /root/.dilithion-testnet/peers.dat\n  cd /root/dilithion\n  nohup ./dilithion-node --testnet --addnode=134.122.4.164:18444 --addnode=209.97.177.197:18444 > /root/singapore-ibd.log 2>&1 &\n  echo ''Singapore started at:'' && date ''+%H:%M:%S UTC''\n\")",
      "Bash(__NEW_LINE__ echo \"Waiting 30s for handshake and IBD to start...\")",
      "Bash(__NEW_LINE__ echo \"=== Singapore status ===\")",
      "Bash(__NEW_LINE__ echo \"=== Block Counts ===\")",
      "Bash(__NEW_LINE__ sleep 15)",
      "Bash(.cpp$ \")",
      "Bash(cut:*)",
      "Bash(make clean:*)",
      "Bash(/mingw64/bin/mingw32-make:*)",
      "Bash(C:/msys64/msys2_shell.cmd -mingw64 -defterm -no-start -c \"cd /c/Users/will/dilithion && make -j4 dilithion-node 2>&1\")",
      "Bash(C:/msys64/msys2_shell.cmd -mingw64 -defterm -no-start -c \"cd /c/Users/will/dilithion && make -j4 connman_tests 2>&1\")",
      "Bash(C:/msys64/msys2_shell.cmd -mingw64 -defterm -no-start -c \"cd /c/Users/will/dilithion && ./connman_tests 2>&1\")",
      "Bash(C:/msys64/msys2_shell.cmd -mingw64 -defterm -no-start -c \"cd /c/Users/will/dilithion && ls -la connman_tests* build/bin/connman_tests* 2>&1\")",
      "Bash(C:/msys64/msys2_shell.cmd -mingw64 -defterm -no-start -c \"cd /c/Users/will/dilithion && ./connman_tests.exe 2>&1\")",
      "Bash(.connman_tests.exe)",
      "Bash(\"c:/Users/will/dilithion/connman_tests.exe\")",
      "Bash(cmd.exe /c \"connman_tests.exe\")",
      "Bash(cmd //c \"cd c:\\Users\\will\\dilithion && connman_tests.exe\")",
      "Bash(cmd //c \"c:\\Users\\will\\dilithion\\connman_tests.exe\")",
      "Bash(powershell -Command:*)",
      "Bash(C:/msys64/msys2_shell.cmd -mingw64 -defterm -no-start -c \"cd /c/Users/will/dilithion && /mingw64/bin/wine connman_tests.exe 2>&1 || ldd connman_tests.exe 2>&1 | head -20\")",
      "Bash(C:/msys64/msys2_shell.cmd -mingw64 -defterm -no-start -c \"cd /c/Users/will/dilithion && PATH=/c/Users/will/dilithion:/mingw64/bin:$PATH ./connman_tests.exe 2>&1\")",
      "Bash(C:/msys64/msys2_shell.cmd -mingw64 -defterm -no-start -c \"cd /c/Users/will/dilithion && PATH=/c/Users/will/dilithion:$PATH exec /c/Users/will/dilithion/connman_tests.exe 2>&1\")",
      "Bash(C:/msys64/msys2_shell.cmd -mingw64 -defterm -no-start -c \"cd /c/Users/will/dilithion && make -j4 connman_tests 2>&1 && ./connman_tests.exe 2>&1\")",
      "Bash(git stash:*)",
      "Bash(git status:*)",
      "Bash(ssh root@134.122.4.164 \"cd /root/dilithion && git pull && make clean && make -j4 connman_tests && ./connman_tests 2>&1\")",
      "Bash(ssh root@134.122.4.164 \"cd /root/dilithion && git pull && make -j4 connman_tests && ./connman_tests 2>&1\")",
      "Bash(ssh root@134.122.4.164 \"cd /root/dilithion && git pull && make clean && make -j4 dilithion-node 2>&1 | tail -20\")",
      "Bash(ssh root@188.166.255.63 \"cd /root/dilithion && git pull && make clean && make -j4 dilithion-node 2>&1 | tail -20\")",
      "Bash(ssh root@209.97.177.197 \"cd /root/dilithion && git pull && make clean && make -j4 dilithion-node 2>&1 | tail -20\")",
      "Bash(ssh root@134.122.4.164 \"pkill -f dilithion-node; sleep 2; rm -f /root/.dilithion-testnet/blocks/LOCK /root/.dilithion-testnet/*.LOCK; cd /root/dilithion && nohup ./dilithion-node --testnet > /root/node.log 2>&1 & sleep 3; tail -30 /root/node.log\")",
      "Bash(ssh root@188.166.255.63 \"pkill -f dilithion-node; sleep 2; rm -f /root/.dilithion-testnet/blocks/LOCK /root/.dilithion-testnet/*.LOCK; cd /root/dilithion && nohup ./dilithion-node --testnet > /root/node.log 2>&1 & sleep 3; tail -30 /root/node.log\")",
      "Bash(ping:*)",
      "Bash(ssh root@209.97.177.197 \"pkill -9 dilithion-node; sleep 2; cd /root/dilithion && git pull && make clean && make -j4 dilithion-node 2>&1 | tail -20\")",
      "Bash(ssh root@188.166.255.63 \"ls -la /root/dilithion/dilithion-node 2>&1 && echo ''SGP build done''\")",
      "Bash(ssh root@134.122.4.164 \"rm -f /root/.dilithion-testnet/blocks/LOCK /root/.dilithion-testnet/chainstate/LOCK 2>/dev/null; cd /root/dilithion && nohup ./dilithion-node --testnet > /root/node.log 2>&1 &\")",
      "Bash(ssh root@188.166.255.63 \"rm -f /root/.dilithion-testnet/blocks/LOCK /root/.dilithion-testnet/chainstate/LOCK 2>/dev/null; cd /root/dilithion && nohup ./dilithion-node --testnet > /root/node.log 2>&1 &\")",
      "Bash(ssh root@209.97.177.197 \"rm -f /root/.dilithion-testnet/blocks/LOCK /root/.dilithion-testnet/chainstate/LOCK 2>/dev/null; cd /root/dilithion && nohup ./dilithion-node --testnet > /root/node.log 2>&1 &\")",
      "Bash(ssh root@134.122.4.164:*)",
      "Bash(python:*)",
      "Bash(ssh root@209.97.177.197 \"cd /root/dilithion && rm -f src/compat/mingw_c11_compat.h src/compat/mingw_compat.h src/util/compat.h && git checkout . && git pull && make clean && make -j4 dilithion-node 2>&1 | tail -10\")",
      "Bash(ssh root@134.122.4.164 \"pkill -9 dilithion-node 2>/dev/null; cd /root/dilithion && git pull && make -j4 dilithion-node 2>&1 | tail -5\")",
      "Bash(ssh root@188.166.255.63 \"pkill -9 dilithion-node 2>/dev/null; cd /root/dilithion && git pull && make -j4 dilithion-node 2>&1 | tail -5\")",
      "Bash(ssh root@134.122.4.164 \"cd /root/dilithion && rm -rf releases/ && rm -f src/compat/mingw_c11_compat.h src/compat/mingw_compat.h src/util/compat.h && git checkout . && git pull && make -j4 dilithion-node 2>&1 | tail -5\")",
      "Bash(ssh root@188.166.255.63 \"cd /root/dilithion && rm -f src/compat/mingw_c11_compat.h src/compat/mingw_compat.h src/util/compat.h && git checkout . && git pull && make -j4 dilithion-node 2>&1 | tail -5\")",
      "Bash(ssh root@209.97.177.197 \"cd /root/dilithion && rm -f src/compat/mingw_c11_compat.h src/compat/mingw_compat.h src/util/compat.h && git checkout . && git pull && make -j4 dilithion-node 2>&1 | tail -5\")",
      "Bash(ssh root@209.97.177.197:*)",
      "Bash(ssh root@188.166.255.63 \"rm -f /root/.dilithion-testnet/blocks/LOCK /root/.dilithion-testnet/*.LOCK; cd /root/dilithion && nohup ./dilithion-node --testnet > /root/node.log 2>&1 &\")",
      "Bash(ssh root@188.166.255.63 \"pkill -9 dilithion-node 2>/dev/null; rm -f /root/.dilithion-testnet/*/LOCK /root/.dilithion-testnet/*.LOCK; cd /root/dilithion && nohup ./dilithion-node --testnet > /root/node.log 2>&1 &\")",
      "Bash(ssh root@188.166.255.63 \"tail -50 /root/node.log | grep -E ''(VERSION|VERACK|SetVersionHandler|on_version)''\")",
      "Bash(ssh root@188.166.255.63 \"tail -100 /root/node.log | grep -E ''(height|block|sync|header|IBD|chain)'' | tail -20\")",
      "Bash(ssh root@188.166.255.63 \"pkill -9 dilithion-node; cd /root/dilithion && git pull && make -j4 dilithion-node 2>&1 | tail -3 && rm -f /root/.dilithion-testnet/*/LOCK && nohup ./dilithion-node --testnet > /root/node.log 2>&1 &\")",
      "Bash(ssh root@188.166.255.63 \"grep -E ''(Handshake complete|RequestHeaders|GETHEADERS|PushMessage|verack|VERSION)'' /root/node.log | tail -20\")",
      "Bash(ssh root@134.122.4.164 \"grep -E ''(VERSION|VERACK|Handshake|verack)'' /root/node.log | tail -20\")",
      "Bash(ssh root@188.166.255.63 \"grep ''Best block'' /root/node.log | tail -1\")",
      "Bash(ssh root@188.166.255.63:*)",
      "Bash(ssh root@134.122.4.164 \"cd /root/dilithion && git pull && make clean && make dilithion-node -j4 2>&1 | tail -30\")",
      "Bash(ssh root@134.122.4.164 \"cd /root/dilithion && git pull && make dilithion-node -j4 2>&1 | tail -40\")",
      "Bash(ssh root@134.122.4.164 \"pkill -f dilithion-node || true; sleep 2; cd /root/dilithion && nohup ./dilithion-node --testnet > /root/node.log 2>&1 & sleep 3; tail -30 /root/node.log\")",
      "Bash(ssh root@134.122.4.164 \"pkill -f dilithion-node || true\")",
      "Bash(ssh -o ConnectTimeout=10 root@134.122.4.164 \"echo connected && hostname\")",
      "Bash(ssh root@134.122.4.164 \"pkill -f dilithion-node || true; sleep 1; pgrep -f dilithion-node || echo ''Node stopped''\")",
      "Bash(ssh root@134.122.4.164 \"cd /root/dilithion && git pull && make dilithion-node -j4 2>&1 | tail -5\")",
      "Bash(ssh root@188.166.255.63 \"cd /root/dilithion && git pull && make clean && make dilithion-node -j4 2>&1 | tail -5\")",
      "Bash(ssh root@209.97.177.197 \"cd /root/dilithion && git pull && make clean && make dilithion-node -j4 2>&1 | tail -5\")",
      "Bash(ssh root@134.122.4.164 \"pkill -f dilithion-node || true; sleep 2; cd /root/dilithion && nohup ./dilithion-node --testnet > /root/node.log 2>&1 & sleep 3; tail -20 /root/node.log\")",
      "Bash(ssh root@188.166.255.63 \"pkill -f dilithion-node || true; sleep 2; cd /root/dilithion && nohup ./dilithion-node --testnet > /root/node.log 2>&1 & sleep 3; tail -20 /root/node.log\")",
      "Bash(ssh root@209.97.177.197 \"pkill -f dilithion-node || true; sleep 2; cd /root/dilithion && nohup ./dilithion-node --testnet > /root/node.log 2>&1 & sleep 3; tail -20 /root/node.log\")",
      "Bash(ssh -o ConnectTimeout=10 root@134.122.4.164 \"pkill -f dilithion-node; sleep 1; cd /root/dilithion && nohup ./dilithion-node --testnet > /root/node.log 2>&1 &\")",
      "Bash(ssh -o ConnectTimeout=10 root@188.166.255.63 \"pkill -f dilithion-node; sleep 1; cd /root/dilithion && nohup ./dilithion-node --testnet > /root/node.log 2>&1 &\")",
      "Bash(ssh -o ConnectTimeout=10 root@209.97.177.197 \"pkill -f dilithion-node; sleep 1; cd /root/dilithion && nohup ./dilithion-node --testnet > /root/node.log 2>&1 &\")",
      "Bash(for i in 1 2 3)",
      "Bash(do ssh -o ConnectTimeout=10 -o BatchMode=yes root@134.122.4.164 \"echo ''NYC connected''\")",
      "Bash(break)",
      "Bash(for ip in 134.122.4.164 188.166.255.63 209.97.177.197)",
      "Bash(do echo \"=== $ip ===\")",
      "Bash(grep -rn \"VERACK\\|verack\\|Verack\" \"c:\\Users\\will\\dilithion\\src\\net\"\" --include=\"*.cpp\" | grep -i \"send)",
      "Bash(queue \")",
      "Bash(git restore:*)",
      "Bash(ssh root@188.166.255.63 \"pgrep -a dilithion; tail -5 /root/node.log; echo ''---''; date\")",
      "Bash(ssh root@134.122.4.164 \"pgrep -a dilithion; tail -10 /root/node.log; echo ''---''; date\")",
      "Bash(ssh root@188.166.255.63 \"curl -s http://127.0.0.1:8332/ -X POST -H ''Content-Type: application/json'' -d ''{\"\"method\"\":\"\"getpeerinfo\"\",\"\"params\"\":[]}'' 2>/dev/null | head -200\")",
      "Bash(ssh root@188.166.255.63 \"curl -s http://127.0.0.1:8332/ -X POST -H ''Content-Type: application/json'' -d ''{\"\"method\"\":\"\"getblockchaininfo\"\",\"\"params\"\":[]}''\")",
      "Bash(ssh root@134.122.4.164 \"curl -s http://127.0.0.1:8332/ -X POST -H ''Content-Type: application/json'' -d ''{\"\"method\"\":\"\"getblockchaininfo\"\",\"\"params\"\":[]}''\")",
      "Bash(ssh root@188.166.255.63 \"netstat -tlnp | grep 8332; curl -s --max-time 5 http://127.0.0.1:8332/ -X POST -H ''Content-Type: application/json'' -d ''{\"\"method\"\":\"\"getblockchaininfo\"\",\"\"params\"\":[]}''  || echo ''RPC failed''\")",
      "Bash(ssh root@188.166.255.63 \"ss -tlnp | grep 8332; tail -100 /root/node.log | grep -i ''rpc\\|error\\|fail''\")",
      "Bash(ssh root@134.122.4.164 \"ss -tlnp | grep dilithion; curl -s --max-time 10 http://127.0.0.1:18332/ -X POST -H ''Content-Type: application/json'' -d ''{\"\"method\"\":\"\"getblockchaininfo\"\",\"\"params\"\":[]}''\")",
      "Bash(ssh root@134.122.4.164 \"pkill -9 dilithion || true; cd /root/dilithion && git pull && make clean && make dilithion-node -j4 2>&1 | tail -20\")",
      "Bash(ssh root@188.166.255.63 \"pkill -9 dilithion || true; cd /root/dilithion && git pull && make clean && make dilithion-node -j4 2>&1 | tail -20\")",
      "Bash(ssh root@134.122.4.164 \"tail -20 /root/node.log && pgrep dilithion\")",
      "Bash(ssh root@134.122.4.164 \"pkill -9 dilithion; rm -f /root/.dilithion-testnet/blocks/LOCK /root/.dilithion-testnet/chainstate/LOCK /root/.dilithion-testnet/*.LOCK; sleep 2; cd /root/dilithion && nohup ./dilithion-node --testnet > /root/node.log 2>&1 &\")",
      "Bash(ssh root@134.122.4.164 \"tail -30 /root/node.log; echo ''---''; date; pgrep -a dilithion\")",
      "Bash(ssh root@188.166.255.63 \"pkill -9 dilithion; rm -rf /root/.dilithion-testnet/blocks /root/.dilithion-testnet/chainstate /root/.dilithion-testnet/*.LOCK; sleep 2; cd /root/dilithion && nohup ./dilithion-node --testnet > /root/node.log 2>&1 &\")",
      "Bash(ssh root@188.166.255.63 \"tail -100 /root/node.log | head -50; echo ''---PROCESS---''; pgrep -a dilithion || echo ''NOT RUNNING''\")",
      "Bash(ssh root@134.122.4.164 \"tail -50 /root/node.log; echo ''---PROCESS---''; pgrep -a dilithion || echo ''NOT RUNNING''\")",
      "Bash(ssh root@188.166.255.63 \"grep -c ''EXTRACT-DEBUG'' /root/node.log; grep ''EXTRACT-DEBUG'' /root/node.log | tail -30\")",
      "Bash(ssh root@188.166.255.63 \"grep ''MSG-RECV.*cmd=block'' /root/node.log | tail -20; echo ''---''; grep -i ''ProcessBlockMessage\\|block.*received\\|connected\\|chain'' /root/node.log | tail -20\")",
      "Bash(ssh root@188.166.255.63 \"grep -i ''checksum\\|error\\|failed\\|mismatch'' /root/node.log | tail -30\")",
      "Bash(ssh root@188.166.255.63 \"grep -c ''EXTRACT-DEBUG.*block'' /root/node.log; grep -c ''MSG-RECV.*block'' /root/node.log; echo ''---chain height---''; grep ''chain='' /root/node.log | tail -5\")",
      "Bash(ssh root@134.122.4.164 \"pkill -9 dilithion; rm -f /root/.dilithion-testnet/blocks/LOCK /root/.dilithion-testnet/chainstate/LOCK; cd /root/dilithion && git pull && make dilithion-node -j4 2>&1 | tail -5\")",
      "Bash(ssh root@188.166.255.63 \"pkill -9 dilithion; rm -rf /root/.dilithion-testnet/blocks /root/.dilithion-testnet/chainstate /root/.dilithion-testnet/*.LOCK; cd /root/dilithion && git pull && make dilithion-node -j4 2>&1 | tail -5\")",
      "Bash(git rm:*)",
      "Bash(git commit -m \"$(cat <<''EOF''\nfix: Handle blocks with data but not connected to chain (BUG #150)\n\nThe HaveData() check was incorrectly skipping blocks that had been added\nto chainstate but never successfully connected (e.g., ActivateBestChain\nfailed due to UTXO validation error).\n\nThis fix:\n- Only skips blocks that have BOTH BLOCK_HAVE_DATA and BLOCK_VALID_CHAIN\n- Tries to re-activate blocks that have data but aren''t connected\n- Prevents IBD from getting permanently stuck at a specific height\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(ssh root@134.122.4.164 \"cd /root/dilithion && git pull && make clean && make dilithion-node -j4\")",
      "Bash(ssh root@188.166.255.63 \"pkill -9 dilithion; sleep 3; rm -rf /root/.dilithion-testnet/blocks /root/.dilithion-testnet/chainstate; cd /root/dilithion && git pull && make clean && make dilithion-node -j2 && nohup ./dilithion-node --testnet > /root/node.log 2>&1 &\")",
      "Bash(ssh root@209.97.177.197 \"pkill -9 dilithion; sleep 3; rm -rf /root/.dilithion-testnet/blocks /root/.dilithion-testnet/chainstate; cd /root/dilithion && git pull && make clean && make dilithion-node -j2 && nohup ./dilithion-node --testnet > /root/node.log 2>&1 &\")",
      "Bash(ssh root@209.97.177.197 \"tail -30 /root/node.log && echo ''---'' && date && pgrep dilithion\")",
      "Bash(ssh root@134.122.4.164 \"grep -E ''height|tip'' /root/node.log | tail -5 && echo ''---'' && pgrep dilithion\")",
      "Bash(git commit -m \"$(cat <<''EOF''\nperf: Increase chunk stall timeout from 2s to 30s\n\nThe 2 second stall timeout was too aggressive for cross-continental\nconnections, causing peers to accumulate stalls quickly and become\nunsuitable for block download during IBD.\n\nChanges:\n- CHUNK_STALL_TIMEOUT_SECONDS: 2 â†’ 30 seconds\n- MAX_CHUNK_STALL_COUNT: 10 â†’ 50 stalls\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(ssh root@134.122.4.164 \"cd /root/dilithion && git pull && make -j4\")",
      "Bash(ssh root@209.97.177.197 \"pkill -9 dilithion; cd /root/dilithion && git pull && make -j2 && nohup ./dilithion-node --testnet > /root/node.log 2>&1 &\")",
      "Bash(ssh root@209.97.177.197 \"grep -E ''chain=|No peers'' /root/node.log | tail -10 && echo ''---'' && date && pgrep dilithion\")",
      "Bash(ssh root@209.97.177.197 \"grep -E ''chain='' /root/node.log | tail -1\")",
      "Bash(ssh root@209.97.177.197 \"pkill -9 dilithion; rm -f /root/.dilithion-testnet/blocks/LOCK /root/.dilithion-testnet/chainstate/LOCK; cd /root/dilithion && git pull && make -j2 && nohup ./dilithion-node --testnet > /root/node.log 2>&1 &\")",
      "Bash(ssh root@209.97.177.197 \"grep -E ''chain='' /root/node.log | tail -3 && echo ''---'' && pgrep dilithion\")",
      "Bash(ssh root@209.97.177.197 \"pkill -9 dilithion; sleep 2; rm -rf /root/.dilithion-testnet/blocks /root/.dilithion-testnet/chainstate; cd /root/dilithion && git pull && make -j2 && nohup ./dilithion-node --testnet > /root/node.log 2>&1 &\")",
      "Bash(ssh root@209.97.177.197 \"grep -E ''chain=|fastHash='' /root/node.log | tail -10\")",
      "Bash(ssh root@209.97.177.197 \"pkill -9 dilithion; sleep 3; rm -f /root/.dilithion-testnet/blocks/LOCK /root/.dilithion-testnet/chainstate/LOCK; nohup /root/dilithion/dilithion-node --testnet > /root/node.log 2>&1 &\")",
      "Bash(ssh root@209.97.177.197 \"grep -E ''chain=|fastHash'' /root/node.log | tail -5\")",
      "Bash(ssh root@134.122.4.164 \"pkill -9 dilithion; sleep 2; rm -f /root/.dilithion-testnet/blocks/LOCK /root/.dilithion-testnet/chainstate/LOCK; nohup ./dilithion/dilithion-node --testnet > /root/node.log 2>&1 &\")",
      "Bash(ssh root@134.122.4.164 \"tail -10 /root/node.log && echo ''---'' && pgrep dilithion\")",
      "Bash(ssh root@134.122.4.164 \"pkill -9 dilithion; sleep 5; lsof -i :18444 || echo ''Port is free''; rm -f /root/.dilithion-testnet/blocks/LOCK /root/.dilithion-testnet/chainstate/LOCK; cd /root/dilithion && nohup ./dilithion-node --testnet > /root/node.log 2>&1 &\")",
      "Bash(ssh root@134.122.4.164 \"grep -E ''height=|chain=|ERROR|Listening'' /root/node.log | tail -10 && echo ''---'' && pgrep dilithion\")",
      "Bash(ssh root@134.122.4.164 \"grep -E ''chain=|height=|Listening|ERROR'' /root/node.log 2>/dev/null | tail -8 && echo ''---NYC---'' && pgrep dilithion\")",
      "Bash(ssh root@209.97.177.197 \"grep -E ''chain=|height=|FastHash|RandomX|Chunk'' /root/node.log 2>/dev/null | tail -15 && echo ''---LDN---'' && pgrep dilithion\")",
      "Bash(ssh root@134.122.4.164 \"grep -E ''getdata|GETDATA|SendBlock|block msg|Sending block'' /root/node.log 2>/dev/null | tail -20\")",
      "Bash(ssh root@134.122.4.164 \"pkill -9 dilithion; sleep 3; rm -f /root/.dilithion-testnet/blocks/LOCK /root/.dilithion-testnet/chainstate/LOCK; cd /root/dilithion && nohup ./dilithion-node --testnet > /root/node.log 2>&1 &\")",
      "Bash(ssh root@134.122.4.164 \"tail -20 /root/node.log && echo ''---'' && date && pgrep dilithion\")",
      "Bash(ssh root@134.122.4.164 \"pkill -9 dilithion; sleep 5; lsof -i :18444 || echo ''Port is free''; cd /root/dilithion && nohup ./dilithion-node --testnet > /root/node.log 2>&1 &\")",
      "Bash(ssh root@134.122.4.164 \"tail -5 /root/node.log && pgrep dilithion\")",
      "Bash(ssh root@134.122.4.164 \"grep -E ''Listening|chain='' /root/node.log | tail -3 && pgrep dilithion || echo ''NOT RUNNING''\")",
      "Bash(ssh root@209.97.177.197 \"tail -3 /root/node.log && pgrep dilithion\")",
      "Bash(ssh root@209.97.177.197 \"grep -E ''chain='' /root/node.log | tail -5\")",
      "Bash(ssh root@209.97.177.197 \"grep ''chain='' /root/node.log | tail -1\")",
      "Bash(ssh root@209.97.177.197 \"pkill -9 dilithion; sleep 3; rm -rf /root/.dilithion-testnet/blocks /root/.dilithion-testnet/chainstate; cd /root/dilithion && git pull && make clean && make dilithion-node -j2\")",
      "Bash(ssh root@209.97.177.197 \"grep -E ''Listening|chain=|ERROR'' /root/node.log | tail -3 && pgrep dilithion || echo ''NOT RUNNING''\")",
      "Bash(ssh root@134.122.4.164 \"cd /root/dilithion && git pull && make clean && make dilithion-node -j4 2>&1 | tail -40\")",
      "Bash(git commit -m \"$(cat <<''EOF''\nfix: Add missing include for CBlockValidationQueue\n\nCursor forgot to include the header for CBlockValidationQueue in\nnode_context.cpp, causing compilation to fail with:\n\"invalid use of incomplete type 'class CBlockValidationQueue'\"\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(ssh root@134.122.4.164 \"cd /root/dilithion && git pull && make dilithion-node -j4 2>&1 | tail -30\")",
      "Bash(ssh root@134.122.4.164 \"ls -la /root/dilithion/dilithion-node && echo ''Build successful''\")",
      "Bash(ssh root@209.97.177.197 \"pkill -9 dilithion; sleep 2; rm -rf /root/.dilithion-testnet/blocks /root/.dilithion-testnet/chainstate; cd /root/dilithion && git pull && make dilithion-node -j2 2>&1 | tail -5\")",
      "Bash(ssh root@188.166.255.63 \"pkill -9 dilithion; sleep 2; rm -rf /root/.dilithion-testnet/blocks /root/.dilithion-testnet/chainstate; cd /root/dilithion && git pull && make dilithion-node -j2 2>&1 | tail -5\")",
      "Bash(ssh root@209.97.177.197 \"tail -5 /root/node.log && pgrep dilithion\")",
      "Bash(where:*)",
      "Bash(where cmake:*)",
      "Bash(powershell -Command \"(Get-Content ''src/node/block_validation_queue.cpp'') -replace ''m_queue\\.push\\(queued_block\\);'', ''m_queue.push(queued_block);\n        m_queued_heights.insert(expected_height);  // O(1) lookup for IsHeightQueued'' | Set-Content ''src/node/block_validation_queue.cpp''\")",
      "Bash(git commit -m \"$(cat <<''EOF''\nperf: IBD hang fixes - gradual backpressure and smart window advancement\n\n6 fixes for IBD hang/restart cycle:\n\n1. Gradual backpressure (queue 70-95% = reduced rate, 95+% = stop)\n   instead of binary stop at 80%\n2. Smart window advancement past blocks queued for validation\n3. O(1) IsHeightQueued using auxiliary std::set (was O(n) queue copy)\n4. Increased chunk stall timeout from 10s to 15s\n5. Better window state tracking in AdvanceWindow\n6. HangCause enum + logging for debugging IBD stalls\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(ssh root@134.122.4.164 \"pgrep -a dilithion; tail -5 /root/node.log; date\")",
      "Bash(ssh root@209.97.177.197 \"pgrep -a dilithion || echo ''Not running''; ls -la /root/.dilithion-testnet/blocks/LOCK 2>/dev/null || echo ''No lock''\")",
      "Bash(ssh root@209.97.177.197 \"pkill -9 dilithion; rm -rf /root/.dilithion-testnet/blocks /root/.dilithion-testnet/chainstate; cd /root/dilithion && git pull && make dilithion-node -j2 2>&1 | tail -10\")",
      "Bash(for i in 1 2 3 4 5 6)",
      "Bash(do ssh root@188.166.255.63 \"grep ''chain='' /root/node.log | tail -1\")",
      "Bash(do ssh root@209.97.177.197 \"grep ''chain='' /root/node.log | tail -1\")",
      "Bash(ssh root@134.122.4.164 \"cd /root/dilithion && git status\")",
      "Bash(git commit -m \"$(cat <<''EOF''\nfix: IBD HANG FIX #16 - Remove legacy CNodeStateManager, fix nBlocksInFlight stuck\n\nPhase 1: Remove legacy CNodeStateManager\n- Delete node_state.cpp entirely\n- Strip node_state.h to just QueuedBlock struct (still used by peers.h)\n- Remove CNodeStateManager calls from net.cpp (lines 478, 1734)\n- Remove unnecessary includes from dilithion-node.cpp and block_fetcher.cpp\n- CPeerManager is now single source of truth for peer/block tracking\n\nPhase 2: Fix nBlocksInFlight not decrementing when chunks cancelled\n- In CancelStalledChunk(), add code to remove all blocks for the cancelled\n  peer from both CBlockFetcher::mapBlocksInFlight and CPeerManager tracking\n- This properly decrements nBlocksInFlight, freeing the peer for new work\n- Without this fix, peers get stuck at \"capacity\" (128 blocks) forever\n  causing \"all peers at capacity\" hang\n\nRoot cause: When a chunk was cancelled, blocks remained in tracking and\nnBlocksInFlight was never decremented, so peers appeared permanently full.\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(ssh root@134.122.4.164 \"cd /root/dilithion && git pull && make clean && make dilithion-node -j4 2>&1\")",
      "Bash(ssh root@209.97.177.197 \"cd /root/dilithion && git pull && make clean && make dilithion-node -j4 2>&1 | tail -30\")",
      "Bash(ssh root@209.97.177.197 \"pkill -9 dilithion; sleep 1; rm -rf /root/.dilithion-testnet/blocks /root/.dilithion-testnet/chainstate; echo ''Cleared blockchain data for fresh IBD''\")",
      "Bash(ssh root@209.97.177.197 \"cd /root/dilithion && nohup ./dilithion-node --testnet > /root/node.log 2>&1 &\")",
      "Bash(ssh root@209.97.177.197 \"pgrep -a dilithion && echo ''---'' && tail -30 /root/node.log\")",
      "Bash(ssh root@209.97.177.197 \"pgrep -a dilithion && echo ''---'' && tail -40 /root/node.log && echo ''---'' && date\")",
      "Bash(ssh root@209.97.177.197 \"grep -E ''(nBlocksInFlight|Chunk|capacity|blocks from peer)'' /root/node.log | tail -50\")",
      "Bash(git commit -m \"$(cat <<''EOF''\nfix: IBD STUCK FIX #1-4 - Fix tracking desync, capacity check, orphan processing\n\n## Fix #1: Tracking Desynchronization (CRITICAL)\nFile: src/net/block_fetcher.cpp:972-1009\n- CancelStalledChunk() now removes blocks from BOTH tracking systems\n- Previously only removed from CBlockFetcher::mapBlocksInFlight\n- Now also removes from CPeerManager::mapBlocksInFlight\n- Fixes false \"all peers at capacity\" when nBlocksInFlight=0\n\n## Fix #2: Capacity Check Logic (CRITICAL)\nFile: src/node/ibd_coordinator.cpp:396-413\n- Changed capacity check to use GetBlocksInFlightForPeer()\n- Previously used peer->nBlocksInFlight (stale counter)\n- Now uses CPeerManager as single source of truth\n- Fixes capacity check using inaccurate data\n\n## Fix #3: Periodic Orphan Scan (HIGH)\nFile: src/node/ibd_coordinator.cpp:262-327\n- Added periodic orphan scan every 10 seconds\n- Checks ALL orphans to see if parents now in chain\n- Processes orphans whose parents became available\n- Handles orphan chains (300â†’299â†’...â†’257â†’256)\n\n## Fix #4: Window State Verification (VERIFIED)\nFile: src/net/block_fetcher.h:175-181\n- Already implemented in IBD SLOW FIX #4\n- MarkAsPending() correctly removes from m_received\n- Heights properly moved back to m_pending on chunk cancel\n\nRoot cause: Tracking desync between CBlockFetcher and CPeerManager\nafter chunk cancellation caused false \"at capacity\" detection.\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(git push)",
      "Bash(ssh root@134.122.4.164 \"pkill -9 dilithion; sleep 1; cd /root/dilithion && git pull && make clean && make dilithion-node -j4 2>&1 | tail -20\")",
      "Bash(ssh root@209.97.177.197 \"pkill -9 dilithion 2>/dev/null; sleep 1; cd /root/dilithion && git pull && make clean && make dilithion-node -j4 2>&1 | tail -10\")",
      "Bash(ssh root@188.166.255.63 \"pkill -9 dilithion 2>/dev/null; sleep 1; cd /root/dilithion && git pull && make clean && make dilithion-node -j4 2>&1 | tail -10\")",
      "Bash(ssh root@134.122.4.164 \"cd /root/dilithion && nohup ./dilithion-node --testnet > /root/node.log 2>&1 &\")",
      "Bash(ssh root@134.122.4.164 \"pgrep -a dilithion && tail -3 /root/node.log\")",
      "Bash(ssh root@209.97.177.197 \"rm -rf /root/.dilithion-testnet/blocks /root/.dilithion-testnet/chainstate && echo ''Cleared LDN blockchain''\")",
      "Bash(ssh root@188.166.255.63 \"rm -rf /root/.dilithion-testnet/blocks /root/.dilithion-testnet/chainstate && echo ''Cleared SGP blockchain''\")",
      "Bash(ssh root@134.122.4.164 \"pkill -9 dilithion; sleep 2; rm -f /root/.dilithion-testnet/blocks/LOCK /root/.dilithion-testnet/chainstate/LOCK; cd /root/dilithion && nohup ./dilithion-node --testnet > /root/node.log 2>&1 &\")",
      "Bash(ssh root@134.122.4.164 \"pgrep -a dilithion && tail -5 /root/node.log\")",
      "Bash(ssh root@134.122.4.164 \"pgrep -a dilithion && tail -10 /root/node.log && echo ''---'' && date\")",
      "Bash(git commit -m \"$(cat <<''EOF''\nrefactor: Complete legacy code removal - CConnectionManager and globals\n\nPhase 1: CConnectionManager Removal\n- Remove class definition from net.h (~68 lines)\n- Remove all method implementations from net.cpp (~736 lines)\n- Update integration_tests.cpp to use CConnman\n- Update net_tests.cpp: rename test_connection_manager to test_connman\n\nPhase 2: g_peer_manager Removal  \n- Add CPeerManager* parameter to CBlockFetcher constructor\n- Replace all 21 g_peer_manager references with m_peer_manager\n- Update node_context.cpp to pass peer_manager to CBlockFetcher\n- Update test files (ibd_coordinator_tests, ibd_functional_tests)\n- Update rpc/server.cpp to use g_node_context.peer_manager\n- Remove g_peer_manager declaration from peers.cpp/h\n\nPhase 3: Remaining Globals Removal\n- Remove g_block_fetcher extern from net.cpp\n- Remove g_headers_manager extern from headers_manager.h\n- Remove legacy global assignments from dilithion-node.cpp\n- Remove connection_manager from NodeContext\n\nTotal: ~823 lines removed, SSOT via NodeContext enforced\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(ssh root@134.122.4.164 \"cd /root/dilithion && git fetch && git reset --hard origin/main && make clean && make dilithion-node -j4 2>&1 | tail -30\")",
      "Bash(ssh root@209.97.177.197 \"cd /root/dilithion && git pull && make dilithion-node -j4 2>&1 | tail -5\")",
      "Bash(ssh root@209.97.177.197 \"cd /root/dilithion && git fetch && git reset --hard origin/main && make dilithion-node -j4 2>&1 | tail -5\")",
      "Bash(ssh root@209.97.177.197 \"pkill -9 dilithion 2>/dev/null; rm -rf /root/.dilithion-testnet/blocks /root/.dilithion-testnet/chainstate; cd /root/dilithion && nohup ./dilithion-node --testnet --addnode=134.122.4.164:18444 > /root/node.log 2>&1 &\")",
      "Bash(ssh root@209.97.177.197 \"tail -20 /root/node.log && pgrep dilithion\")",
      "Bash(ssh root@209.97.177.197 \"tail -30 /root/node.log && pgrep dilithion\")",
      "Bash(ssh root@209.97.177.197 \"pkill -9 dilithion; rm -rf /root/.dilithion-testnet/blocks /root/.dilithion-testnet/chainstate; timeout 30 bash -c ''cd /root/dilithion && ./dilithion-node --testnet --addnode=134.122.4.164:18444 2>&1'' | tail -60\")",
      "Bash(ssh root@209.97.177.197 \"tail -50 /root/node.log && pgrep dilithion\")",
      "Bash(ssh root@209.97.177.197 \"cd /root/dilithion && git fetch && git reset --hard origin/main && make dilithion-node -j4 2>&1 | tail -3\")",
      "Bash(ssh root@209.97.177.197 \"pkill -9 dilithion; rm -rf /root/.dilithion-testnet/blocks /root/.dilithion-testnet/chainstate; cd /root/dilithion && nohup ./dilithion-node --testnet --addnode=134.122.4.164:18444 > /root/node.log 2>&1 &\")",
      "Bash(ssh root@209.97.177.197 \"tail -40 /root/node.log | grep -E ''IBD|capacity|GETDATA|block|height''\")",
      "Bash(ssh root@209.97.177.197 \"tail -50 /root/node.log | grep -E ''IBD|capacity|block|height|Queueing''\")",
      "Bash(ssh root@209.97.177.197 \"tail -100 /root/node.log | grep -E ''height|IBD|capacity'' | tail -30\")",
      "Bash(ssh root@209.97.177.197 \"cd /root/dilithion && rm -f /root/.dilithion-testnet/blocks/LOCK 2>/dev/null; nohup ./dilithion-node --testnet > /root/node.log 2>&1 &\")",
      "Bash(ssh root@209.97.177.197 \"cd /root/dilithion && make dilithion-node -j4 2>&1 | tail -5\")",
      "Bash(ssh root@209.97.177.197 \"cd /root/dilithion && ls -la src/node/dilithion-node.cpp && head -50 src/node/dilithion-node.cpp | grep -E ''(main|int main)''\")",
      "Bash(ssh root@209.97.177.197 \"cd /root/dilithion && grep -n ''int main'' src/node/dilithion-node.cpp | head -3\")",
      "Bash(ssh root@209.97.177.197 \"cd /root/dilithion && rm -f build/*.o && make dilithion-node -j4 2>&1 | tail -10\")",
      "Bash(ssh root@209.97.177.197 \"cd /root/dilithion && ls -la dilithion-node 2>&1 || echo ''Binary does not exist''\")",
      "Bash(ssh root@209.97.177.197 \"rm -f /root/.dilithion-testnet/blocks/LOCK 2>/dev/null; cd /root/dilithion && nohup ./dilithion-node --testnet > /root/node.log 2>&1 &\")",
      "Bash(ssh root@209.97.177.197 \"tail -40 /root/node.log && echo ''---'' && pgrep dilithion\")",
      "Bash(ssh root@209.97.177.197 \"tail -50 /root/node.log && echo ''---'' && pgrep dilithion\")",
      "Bash(ssh root@209.97.177.197 \"grep -E ''(IBD|capacity|height|Block)'' /root/node.log | tail -30\")",
      "Bash(ssh root@209.97.177.197 \"grep -n ''GetBlocksInFlightForPeer'' /root/dilithion/src/net/block_fetcher.cpp | head -10\")",
      "Bash(ssh root@209.97.177.197 \"ls -la /root/dilithion/build/block_fetcher.o 2>&1; stat /root/dilithion/build/block_fetcher.o 2>&1 | grep Modify\")",
      "Bash(ssh root@209.97.177.197 \"pkill -9 dilithion 2>/dev/null; cd /root/dilithion && rm -f dilithion-node && make dilithion-node -j4 2>&1 | tail -15\")",
      "Bash(ssh root@209.97.177.197 \"rm -f /root/.dilithion-testnet/blocks/LOCK; cd /root/dilithion && nohup ./dilithion-node --testnet > /root/node.log 2>&1 &\")",
      "Bash(ssh root@209.97.177.197 \"grep -E ''(IBD|capacity|height)'' /root/node.log | tail -20 && echo ''---'' && pgrep dilithion\")",
      "Bash(ssh root@209.97.177.197 \"grep -E ''(IBD|capacity|height)'' /root/node.log | tail -25\")",
      "Bash(ssh root@209.97.177.197 \"grep -E ''(getdata|GETDATA|RequestBlock|Requesting block)'' /root/node.log | tail -20\")",
      "Bash(ssh root@209.97.177.197 \"grep -E ''(height [0-9]+|Block index created|Block received)'' /root/node.log | tail -30\")",
      "Bash(ssh root@209.97.177.197 \"tail -50 /root/node.log && echo ''---TIMESTAMP---'' && date\")",
      "Bash(ssh root@209.97.177.197 \"grep -E ''(cmd=block|MSG-RECV.*block|block.*error|failed)'' /root/node.log | tail -30\")",
      "Bash(ssh root@209.97.177.197 \"grep -A3 ''MSG-RECV.*cmd=block'' /root/node.log | tail -40\")",
      "Bash(ssh root@209.97.177.197 \"grep -E ''(MSG-RECV.*block|Received block|rejected|invalid|ignored)'' /root/node.log | tail -30\")",
      "Bash(ssh root@209.97.177.197 \"grep -E ''(EXTRACT.*block|block.*buffer|block.*payload)'' /root/node.log | tail -30\")",
      "Bash(ssh root@209.97.177.197 \"tail -100 /root/node.log | grep -E ''(height|MSG-RECV|Block index|validated|connected)'' | tail -20\")",
      "Bash(ssh root@209.97.177.197 \"grep -E ''(Validation|RandomX|queue depth|validated|connected block)'' /root/node.log | tail -20\")",
      "Bash(ssh root@209.97.177.197 \"grep -E ''(MSGHANDLER|thread|stuck|timeout)'' /root/node.log | tail -30\")",
      "Bash(ssh root@209.97.177.197 \"grep -A2 ''MSGHANDLER-BATCH'' /root/node.log | tail -20\")",
      "Bash(ssh root@209.97.177.197 \"grep -n ''Collected 100'' /root/node.log | tail -1\")",
      "Bash(ssh root@209.97.177.197 \"sed -n ''986,1050p'' /root/node.log\")",
      "Bash(ssh root@209.97.177.197 \"grep -c ''MSG-RECV'' /root/node.log && grep -c ''MSGHANDLER-POP'' /root/node.log && grep -c ''EXTRACT-PUSHED.*block'' /root/node.log\")",
      "Bash(ssh root@209.97.177.197 \"tail -30 /root/node.log && echo ''---CURRENT---'' && date\")",
      "Bash(git commit -m \"$(cat <<''EOF''\nfix: IBD DEADLOCK FIX #10 - Prevent RandomX computation in GetBlockHash\n\nROOT CAUSE: CBlockIndex::GetBlockHash() was auto-computing RandomX hash\nwhen phashBlock was null. RandomX takes ~700ms and holds g_validation_mutex.\nWhen called from ActivateBestChain (which holds cs_main), this caused\nsevere mutex contention with the message handler thread, effectively\nserializing block processing and causing IBD to freeze.\n\nFIX:\n- GetBlockHash() now logs error and returns null instead of computing\n- All CBlockIndex creation sites (especially DB loading) now set phashBlock\n- This prevents the mutex contention that was causing apparent deadlocks\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(ssh root@209.97.177.197 \"grep -E ''EXTRACT-PUSHED|MSGHANDLER-POP|cmd='' /root/node.log | tail -30\")",
      "Bash(ssh root@209.97.177.197 \"grep -E ''MSGHANDLER-POP.*cmd=block|MSGHANDLER-LOOP.*cmd=block'' /root/node.log | tail -20\")",
      "Bash(ssh root@209.97.177.197 \"grep -E ''BLOCK-PROCESS|BLOCK-HANDLER'' /root/node.log | tail -20\")",
      "Bash(ssh root@209.97.177.197 \"grep -E ''MarkBlockAsReceived|mapBlocksInFlight.erase'' /root/node.log | tail -30\")",
      "Bash(ssh root@209.97.177.197 \"tail -5 /root/node.log && curl -s http://localhost:18334/api/stats | grep -E ''blockHeight|status''\")",
      "Bash(ssh root@209.97.177.197 \"curl -s http://localhost:18334/api/stats\")",
      "Bash(ssh root@134.122.4.164 \"curl -s http://localhost:18334/api/stats | grep blockHeight\")",
      "Bash(ssh root@209.97.177.197 \"sleep 10 && curl -s http://localhost:18334/api/stats | grep blockHeight\")",
      "Bash(ssh root@209.97.177.197 \"grep -E ''suitable|capacity|peer.*=.*0'' /root/node.log | tail -20\")",
      "Bash(ssh root@209.97.177.197 \"grep -E ''GetValidPeers|suitable|peer'' /root/node.log | tail -20\")",
      "Bash(ssh root@209.97.177.197 \"pkill dilithion || true && cd /root/dilithion && git pull origin main && make dilithion-node -j4 2>&1 | tail -5\")",
      "Bash(ssh root@209.97.177.197 \"grep -E ''IBD-DEBUG|no suitable|chunk_heights'' /root/node.log | tail -30\")",
      "Bash(ssh root@209.97.177.197 \"pgrep dilithion && curl -s http://localhost:18334/api/stats | grep blockHeight\")",
      "Bash(ssh root@188.166.255.63 \"grep -E ''Genesis|genesis|parent not found'' /root/node.log | tail -10\")",
      "Bash(ssh root@188.166.255.63 \"grep -E ''hashPrevBlock=|mapHeaders.size'' /root/node.log | tail -5\")",
      "Bash(ssh root@188.166.255.63 \"pkill -9 dilithion || true && cd /root/dilithion && git pull origin main && make dilithion-node -j4 2>&1 | tail -3 && rm -f /root/node.log && nohup ./dilithion-node --testnet > /root/node.log 2>&1 &\")",
      "Bash(ssh root@188.166.255.63 \"pgrep dilithion && grep -E ''Genesis check|genesis'' /root/node.log | tail -10\")",
      "Bash(ssh root@188.166.255.63 \"pgrep dilithion && curl -s http://localhost:18334/api/stats | grep blockHeight\")",
      "Bash(ssh root@188.166.255.63 \"grep -E ''IBD|Processing header|Orphan'' /root/node.log | tail -15\")",
      "Bash(ssh root@188.166.255.63 \"tail -30 /root/node.log | grep -E ''IBD|header|Header''\")",
      "Bash(ssh root@209.97.177.197 \"curl -s http://localhost:18334/api/stats | grep -E ''blockHeight|peerCount'' && pgrep dilithion\")",
      "Bash(ssh root@209.97.177.197 \"curl -s http://localhost:18334/api/stats | head -5\")",
      "Bash(ssh root@209.97.177.197 \"grep -c ''requested unknown block'' /root/node.log 2>/dev/null || echo ''0''; grep ''requested unknown block'' /root/node.log 2>/dev/null | tail -5\")",
      "Bash(ssh root@134.122.4.164 \"grep -c ''requested unknown block'' /root/node.log 2>/dev/null || echo ''0''; grep ''requested unknown block'' /root/node.log 2>/dev/null | tail -5\")",
      "Bash(ssh root@134.122.4.164 \"pkill -9 dilithion || true && cd /root/dilithion && git pull origin main && make dilithion-node -j4 2>&1 | tail -5\")",
      "Bash(ssh root@134.122.4.164 \"rm -f /root/node.log && nohup ./dilithion/dilithion-node --testnet > /root/node.log 2>&1 &\")",
      "Bash(ssh root@134.122.4.164 \"pgrep dilithion && head -10 /root/node.log\")",
      "Bash(ssh root@134.122.4.164 \"grep -E ''DB-MIGRATE|migration|Migrating'' /root/node.log | head -20\")",
      "Bash(git ls-tree:*)",
      "Bash(powershell:*)",
      "Bash(ssh root@134.122.4.164 \"curl -s http://localhost:18334/api/stats | grep -E ''blockHeight|peerCount''\")",
      "Bash(ssh root@188.166.255.63 \"curl -s http://localhost:18334/api/stats | grep -E ''blockHeight|peerCount''\")",
      "Bash(ssh root@209.97.177.197 \"curl -s http://localhost:18334/api/stats | grep -E ''blockHeight|peerCount''\")",
      "Bash(ssh root@134.122.4.164 \"pkill -9 dilithion; cd /root/dilithion && git pull origin main && make dilithion-node -j4 2>&1 | tail -5\")",
      "Bash(mingw32-make clean:*)",
      "Bash(ssh root@134.122.4.164 \"curl -s http://localhost:18334/api/stats | grep -E ''''blockHeight|peerCount''''\")",
      "Bash(ssh root@188.166.255.63 \"curl -s http://localhost:18334/api/stats | grep -E ''''blockHeight|peerCount''''\")",
      "Bash(ssh root@209.97.177.197 \"curl -s http://localhost:18334/api/stats | grep -E ''''blockHeight|peerCount''''\")",
      "Bash(ssh -o ConnectTimeout=5 root@134.122.4.164 \"curl -s --max-time 5 http://localhost:18334/api/stats | grep -E ''''blockHeight|peerCount''''\")",
      "Bash(ssh -o ConnectTimeout=5 root@188.166.255.63 \"curl -s --max-time 5 http://localhost:18334/api/stats | grep -E ''''blockHeight|peerCount''''\")",
      "Bash(ssh -o ConnectTimeout=5 root@209.97.177.197 \"curl -s --max-time 5 http://localhost:18334/api/stats | grep -E ''''blockHeight|peerCount''''\")",
      "Bash(ssh root@188.166.255.63 \"pgrep dilithion; tail -5 /root/node.log 2>/dev/null\")",
      "Bash(ssh -o ConnectTimeout=10 root@134.122.4.164 \"curl -s --max-time 5 http://localhost:18334/api/stats | grep -E ''''blockHeight|peerCount''''\")",
      "Bash(ssh -o ConnectTimeout=10 root@188.166.255.63 \"curl -s --max-time 10 http://localhost:18334/api/stats | grep -E ''''blockHeight|peerCount''''\")",
      "Bash(ssh -o ConnectTimeout=10 root@209.97.177.197 \"curl -s --max-time 5 http://localhost:18334/api/stats | grep -E ''''blockHeight|peerCount''''\")",
      "Bash(ssh root@188.166.255.63 \"grep -E ''chainHeight=|Processing header'' /root/node.log | tail -10\")",
      "Bash(ssh -o ConnectTimeout=10 root@134.122.4.164 \"cd /root/dilithion && git pull && make clean && make dilithion-node -j4 2>&1 | tail -30\")",
      "Bash(ssh -o ConnectTimeout=10 root@134.122.4.164 \"killall -9 dilithion-node 2>/dev/null; sleep 2; rm -f /root/.dilithion-testnet/*/LOCK; cd /root/dilithion && nohup ./dilithion-node --testnet > /root/node.log 2>&1 & sleep 5; curl -s http://localhost:18334/api/stats | grep -E ''blockHeight|peerCount''\")",
      "Bash(ssh -o ConnectTimeout=10 root@209.97.177.197 \"cd /root/dilithion && git pull && make clean && make dilithion-node -j4 2>&1 | tail -5\")",
      "Bash(ssh -o ConnectTimeout=10 root@188.166.255.63 \"cd /root/dilithion && git pull && make clean && make dilithion-node -j2 2>&1 | tail -5\")",
      "Bash(ssh -o ConnectTimeout=10 root@209.97.177.197 \"killall -9 dilithion-node 2>/dev/null; sleep 2; rm -f /root/.dilithion-testnet/*/LOCK; cd /root/dilithion && nohup ./dilithion-node --testnet > /root/node.log 2>&1 & sleep 5; curl -s http://localhost:18334/api/stats | grep -E ''blockHeight|peerCount''\")",
      "Bash(timeout 10 curl:*)",
      "Bash(timeout 10 bash:*)",
      "Bash(timeout 60 bash:*)",
      "Bash(timeout:*)",
      "Bash(cmd //c \"taskkill /F /IM dilithion-node.exe\")",
      "Bash(for i in 1 2 3 4 5 6 7 8 9 10)",
      "Bash(do timeout 5 curl -s http://localhost:18334/api/stats)",
      "Bash(tr n ' ' echo '- check $i' timeout 5 sleep 1)",
      "Bash(wmic process where name=''dilithion-node.exe'' get ExecutablePath)",
      "Bash(ssh -o ConnectTimeout=5 root@134.122.4.164 \"curl -s http://localhost:18334/api/stats 2>/dev/null | grep -E ''blockHeight|peerCount''\")",
      "Bash(ssh -o ConnectTimeout=5 root@209.97.177.197 \"curl -s http://localhost:18334/api/stats 2>/dev/null | grep -E ''blockHeight|peerCount''\")",
      "Bash(ssh -o ConnectTimeout=5 root@188.166.255.63 \"curl -s http://localhost:18334/api/stats 2>/dev/null | grep -E ''blockHeight|peerCount''\")",
      "Bash(cmd //c \"start /min dilithion-node.exe --testnet\")",
      "Bash(for i in 1 2 3 4 5)",
      "Bash(do sleep 120)",
      "Bash(.cpp \")",
      "Bash(do sleep 60)",
      "Bash(C:/msys64/usr/bin/bash.exe -c \"cd /c/Users/will/dilithion && make dilithion-node -j4 2>&1 | tail -20\")",
      "Bash(ssh -o ConnectTimeout=5 root@188.166.255.63 \"grep -E ''Window.*received|MarkBlockReceived'' /root/node.log | tail -20\")",
      "Bash(git commit -m \"$(cat <<''EOF''\nfix: BUG #162 - Use GetHeight() for is_height_connected check\n\nThe is_height_connected lambda was using a non-existent method\nGetBlockIndexAtHeight(). Changed to use GetHeight() which returns\nthe chain tip height - if h <= chain_height, the block is connected.\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(git commit -m \"$(cat <<''EOF''\nfix: BUG #162 - Add is_height_connected callback to AdvanceWindow\n\nFixed two issues:\n1. Added missing is_height_connected_callback parameter to OnBlockConnected\n   and AdvanceWindow functions in block_fetcher.h\n2. Fixed typo: chain_state -> chainstate in block_fetcher.cpp\n\nThis callback ensures the window only advances past heights that are\nactually connected to the chain, preventing the window from skipping\nunconnected heights that fell out of tracking.\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(git commit -m \"$(cat <<''EOF''\nfix: BUG #162 - Include chain.h for CChainState definition\n\nAdded missing include for consensus/chain.h to get the full\nCChainState class definition (not just forward declaration).\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(git commit -m \"$(cat <<''EOF''\nfix: BUG #164 - Skip duplicate headers before computing RandomX hash\n\nWhen receiving headers that we already have, we were computing the\nexpensive RandomX hash (~50-100ms) before checking for duplicates.\nFor 2000 duplicate headers, this wasted 100-200 seconds!\n\nFix: Check if we already have a header at the expected height BEFORE\ncomputing the hash. Uses mapHeightIndex for O(1) lookup. If we have\na header at that height, skip directly to the next header.\n\nApplied to both ProcessHeaders() and QueueHeadersForValidation().\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(ssh root@188.166.255.63 \"pkill -9 -f dilithion-node; cd /root/dilithion && git pull && make dilithion-node -j2 2>&1 | tail -15\")",
      "Bash(ssh -o ConnectTimeout=30 root@188.166.255.63 \"pkill -9 -f dilithion-node; sleep 2; pgrep dilithion || echo ''Stopped''\")",
      "Bash(ssh root@188.166.255.63 \"pgrep -a dilithion\")",
      "Bash(ssh root@188.166.255.63 \"cd /root/dilithion && git pull\")",
      "Bash(ssh -o ConnectTimeout=5 root@188.166.255.63 \"curl -s http://localhost:18334/api/stats 2>/dev/null | grep ''blockHeight''\")",
      "Bash(git commit -m \"$(cat <<''EOF''\nfix: BUG #165 - Clean up mapBlocksInFlight when peer becomes unsuitable\n\nWhen a peer exceeds STALL_THRESHOLD (500), it becomes unsuitable for\ndownloading but its entries in mapBlocksInFlight remain as zombie entries\nthat block the system at capacity. This caused SGP to get stuck at height\n17 with 128 stale entries for peer 2 (stall=512).\n\nAdded CleanupUnsuitablePeers() method that:\n- Finds peers with stall count >= threshold that have in-flight entries\n- Removes entries from both CBlockFetcher and CPeerManager maps\n- Cancels active chunks for unsuitable peers\n- Marks heights as pending for re-request\n\nCalled from IBD coordinator tick after CleanupCancelledChunks().\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(ssh root@134.122.4.164 \"curl -s http://localhost:18334/api/block/18 2>/dev/null | head -100\")",
      "Bash(ssh root@134.122.4.164 \"curl -s http://localhost:18334/api/stats 2>/dev/null\")",
      "Bash(git commit -m \"$(cat <<''EOF''\nfix: BUG #166 - Fix vBlocksInFlight desync causing permanent peer stall\n\nRoot cause: When peers become unsuitable (stall count > 500), their\nvBlocksInFlight entries were NOT being cleared, only mapBlocksInFlight.\nThis caused CheckForStallingPeers() to keep timing out stale entries,\nincrementing nStallingCount and resetting lastStallTime forever -\npreventing the 5-minute forgiveness from ever kicking in.\n\nThe desync occurs because:\n1. Block requested â†’ added to both mapBlocksInFlight and vBlocksInFlight\n2. Various cleanups clear mapBlocksInFlight but not vBlocksInFlight\n3. vBlocksInFlight entries become \"orphaned\"\n4. CheckForStallingPeers times them out, incrementing stall count\n5. Peer becomes permanently unsuitable, no blocks can be downloaded\n\nFix: Added ClearPeerInFlightState() method to CPeerManager that:\n- Clears ALL entries from vBlocksInFlight (the key fix!)\n- Removes corresponding entries from mapBlocksInFlight\n- Resets nBlocksInFlight counter\n- Resets stall count to allow peer to become suitable again\n\nCalled from CleanupUnsuitablePeers() after existing cleanup logic.\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(git commit -m \"$(cat <<''EOF''\nfeat: IBD Redesign Phase 1 - Async message dispatch\n\nImplement async message dispatch to prevent headers/blocks from blocking\nthe message handler thread. This is the foundation for the IBD pipeline\narchitecture.\n\nChanges:\n- Add async queues for headers and blocks in connman.h\n- Modify ThreadMessageHandler to route messages by type:\n  - headers -> m_headers_queue (async)\n  - block -> m_blocks_queue (async)  \n  - control messages -> process inline (fast)\n- Add HeadersWorkerThread to process headers asynchronously\n- Add BlocksWorkerThread to process blocks asynchronously\n- Start/stop worker threads in Start()/Stop()\n- Wake workers on Interrupt()\n\nThis fixes the root cause of BUG #167 where headers processing blocked\nthe message handler for 100+ seconds (2000 headers x 75ms RandomX).\nNow the message handler returns in <1ms regardless of header count.\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(ssh root@134.122.4.164 \"pkill dilithion-node; sleep 2; pgrep dilithion || echo ''Node stopped''\")",
      "Bash(ssh root@134.122.4.164 \"pkill -9 dilithion-node; sleep 2; pgrep dilithion || echo ''Node stopped''\")",
      "Bash(ssh root@134.122.4.164 \"cd /root/dilithion && rm -f /root/.dilithion-testnet/blocks/LOCK /root/.dilithion-testnet/chainstate/LOCK 2>/dev/null; nohup ./dilithion-node --testnet > /root/node.log 2>&1 &\")",
      "Bash(do sleep 30)",
      "Bash(for i in 1 2 3 4)",
      "Bash(do sleep 20)",
      "Bash(git revert:*)",
      "Bash(ssh root@134.122.4.164 \"cd /root/dilithion && git log --oneline -1\")",
      "Bash(git commit -m \"$(cat <<''EOF''\nfix: IBD stall bug - remove blind UpdateChunkActivity call\n\nThe UpdateChunkActivity() call at line 1951 was updating chunk timers\nfor ANY block received from a peer, regardless of whether the block\nwas in the peer''s assigned chunk range. This prevented stall detection\nfrom triggering when peers sent old/stale blocks.\n\nThe timer is already correctly updated in OnChunkBlockReceived() which\nvalidates the block height is within the assigned chunk range.\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n)\")"
    ],
    "deny": [],
    "ask": []
  }
}
